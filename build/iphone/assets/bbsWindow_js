function bbsWindow(){function e(){var e=Ti.App.domain+"get_recruit.json";getData(e,function(e){if(e.success){var a=e.data;a.length>=10?t(a,0,10):t(a,0,a.length)}i.hide()})}function t(e,t,n){i.show();for(var s=t;n>s;s++){if(Ti.API.info("DATA: "+e[s]),s%10==0){var c=a(1);r.push(c)}if(s%10==5){var c=a(2);r.push(c)}var d=Ti.UI.createTableViewRow({backgroundImage:"images/bbs_row_bg.png",hasChild:!1,height:73,id:"row",data:e[s]});d.backgroundColor=s%2==0?"white":"#D8D8D8",Ti.API.info("ID:"+s+"image:"+e[s].image);var l;l=null==e[s].image?"https://s3-ap-northeast-1.amazonaws.com/monsto/icon/noimage.png":e[s].image;var u=Titanium.UI.createImageView({top:7,left:9,width:55,height:55,image:l});d.add(u);var p=Titanium.UI.createLabel({font:{fontWeight:"bold",fontSize:13},textAlign:"left",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,color:"black",left:70,right:5,top:7,height:15,text:e[s].name});d.add(p);var b=Titanium.UI.createTextArea({editable:!1,touchEnabled:!1,font:{fontSize:11},textAlign:"left",color:"black",left:70,right:5,top:23,bottom:23,value:e[s].desc});d.add(b);var h=Titanium.UI.createLabel({font:{fontSize:10},textAlign:"right",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,color:"black",right:9,bottom:10,width:100,text:e[s].time});d.add(h);var g=Titanium.UI.createLabel({font:{fontWeight:"bold",fontSize:10},textAlign:"left",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,color:"black",left:70,bottom:10,width:100,text:"アクセス数: "+e[s].access});if(d.add(g),"t"==e[s].luck_restriction){var T=Titanium.UI.createLabel({font:{fontWeight:"bold",fontSize:10},textAlign:"center",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,color:"white",right:9,top:7,height:15,width:50,backgroundColor:"red",borderRadius:2,text:"運極限定"});d.add(T),p.right=59}r.push(d)}var m;if(n==e.length);else{m=n+10<=e.length?n+10:e.length;var f=Ti.UI.createTableViewRow({hasChild:!1,height:25,backgroundColor:"red",id:"addRow",data:e,startNum:n,endNum:m});addRowLabel=Ti.UI.createLabel({text:"次の結果を読み込む",color:"white",font:{fontSize:13}}),f.add(addRowLabel),r.push(f);var w=a(3);r.push(w)}o.data=r,i.hide()}function a(e){var t=createBannerAdView(e),a=Ti.UI.createTableViewRow({hasChild:!1,height:50});if(320!=Ti.Platform.displayCaps.platformWidth){var i=Ti.Platform.displayCaps.platformWidth/320*50;a.height=i,t.top=(i-50)/2}return a.add(t),a}var i=createActInd();i.show();var r=[],n=Titanium.UI.createWindow({statusBarStyle:Titanium.UI.iPhone.StatusBar.LIGHT_CONTENT,barImage:"images/header.png",titleControl:Ti.UI.createImageView({image:"images/bbs_title_label.png",height:23,width:128})});n.hideTabBar();var o=Titanium.UI.createTableView({top:0,bottom:0,separatorStyle:"NONE",backgroundColor:"black"});n.add(o);var s=Titanium.UI.createButton({backgroundImage:"images/bbs_recruit_btn.png",height:32,width:52.1});n.leftNavButton=s,s.addEventListener("click",function(){var e=require("recruitWindow"),t=new e;tabGroup.activeTab.open(t)});var c=Titanium.UI.createButton({backgroundImage:"images/bbs_reload_btn.png",height:32,width:43.9});return n.rightNavButton=c,c.addEventListener("click",function(){i.show(),r=[],e(),o.scrollToTop(0,!0)}),o.addEventListener("click",function(e){if("addRow"==e.row.id)r.pop(),r.pop(),t(e.row.data,e.row.startNum,e.row.endNum);else if("row"==e.row.id)if("t"==e.row.data.luck_restriction){var a=Titanium.UI.createAlertDialog({title:"運極限定マルチ",message:"\n運極の方のみ参加可能なマルチです。\n運極でない方のご参加は\n他の方の迷惑となります。\n運極でない方の参加を見つけた場合、その方の本サービスの利用を禁止するなどの対処を致します。",buttonNames:["参加しない","参加する"],cancel:0});a.addEventListener("click",function(t){if(1==t.index){var a=require("detailWindow"),i=new a(e.row.data);tabGroup.activeTab.open(i)}}),a.show()}else{var i=require("detailWindow"),n=new i(e.row.data);tabGroup.activeTab.open(n)}}),e(),n.add(i),n}module.exports=bbsWindow;