function bbsWindow(){function e(){var e=Ti.App.domain+"get_recruit.json";getData(e,function(e){if(e.success){var i=e.data;i.length>=10?t(i,0,10):t(i,0,i.length)}a.hide()})}function t(e,t,o){a.show();for(var c=t;o>c;c++){if(Ti.API.info("DATA: "+e[c]),c%10==0){var d=i(1);r.push(d)}if(c%10==5){var d=i(2);r.push(d)}var s=Ti.UI.createTableViewRow({backgroundImage:"images/bbs_row_bg.png",hasChild:!1,height:73,id:"row",data:e[c]});s.backgroundColor=c%2==0?"white":"#D8D8D8",Ti.API.info("ID:"+c+"image:"+e[c].image);var l;l=null==e[c].image?"https://s3-ap-northeast-1.amazonaws.com/monsto/icon/noimage.png":e[c].image;var u=Titanium.UI.createImageView({top:7,left:9,width:55,height:55,image:l});s.add(u);var p=Titanium.UI.createLabel({font:{fontWeight:"bold",fontSize:13},textAlign:"left",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,color:"black",left:70,right:5,top:7,height:15,text:e[c].name});s.add(p);var b=Titanium.UI.createTextArea({editable:!1,touchEnabled:!1,font:{fontSize:11},textAlign:"left",color:"black",left:70,right:5,top:23,bottom:23,value:e[c].desc});s.add(b);var h=Titanium.UI.createLabel({font:{fontSize:10},textAlign:"right",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,color:"black",right:9,bottom:10,width:100,text:e[c].time});s.add(h);var T=Titanium.UI.createLabel({font:{fontWeight:"bold",fontSize:10},textAlign:"left",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,color:"black",left:70,bottom:10,width:100,text:"アクセス数: "+e[c].access});if(s.add(T),"t"==e[c].luck_restriction){var g=Titanium.UI.createLabel({font:{fontWeight:"bold",fontSize:10},textAlign:"center",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,color:"white",right:9,top:7,height:15,width:50,backgroundColor:"red",borderRadius:2,text:"運極限定"});s.add(g),p.right=59}r.push(s)}var f;if(o==e.length);else{f=o+10<=e.length?o+10:e.length;var m=Ti.UI.createTableViewRow({hasChild:!1,height:25,backgroundColor:"red",id:"addRow",data:e,startNum:o,endNum:f});addRowLabel=Ti.UI.createLabel({text:"次の結果を読み込む",color:"white",font:{fontSize:13}}),m.add(addRowLabel),r.push(m);var w=i(3);r.push(w)}n.data=r,a.hide()}function i(e){var t=createBannerAdView(e),i=Ti.UI.createTableViewRow({hasChild:!1,height:50});if(320!=Ti.Platform.displayCaps.platformWidth){var a=Ti.Platform.displayCaps.platformWidth/320*50;i.height=a,t.top=(a-50)/2}return i.add(t),i}var a=createActInd();a.show();var r=[],o=Titanium.UI.createWindow({statusBarStyle:Titanium.UI.iPhone.StatusBar.LIGHT_CONTENT,barImage:"images/header.png",titleControl:Ti.UI.createImageView({image:"images/bbs_title_label.png",height:23,width:128})});o.hideTabBar();var n=Titanium.UI.createTableView({top:0,bottom:0,separatorStyle:"NONE",backgroundColor:"black"});o.add(n);var c=Titanium.UI.createButton({backgroundImage:"images/bbs_recruit_btn.png",height:32,width:52.1});o.leftNavButton=c,c.addEventListener("click",function(){var e=require("recruitWindow"),t=new e;tabGroup.activeTab.open(t)});var d=Titanium.UI.createButton({backgroundImage:"images/bbs_reload_btn.png",height:32,width:43.9});return o.rightNavButton=d,d.addEventListener("click",function(){a.show(),r=[],e(),n.scrollToTop(0,!0)}),n.addEventListener("click",function(e){if("addRow"==e.row.id)r.pop(),r.pop(),t(e.row.data,e.row.startNum,e.row.endNum);else if("row"==e.row.id)if("t"==e.row.data.luck_restriction){var i=Titanium.UI.createAlertDialog({title:"運極限定マルチ",message:"\n運極の方のみ参加可能なマルチです。\n運極でない方のご参加は\n他の方の迷惑となります。\n運極でない方の参加を見つけた場合、その方の本サービスの利用を禁止するなどの対処を致します。",buttonNames:["参加しない","参加する"],cancel:0});i.addEventListener("click",function(t){if(1==t.index){var i=require("detailWindow"),a=new i(e.row.data);tabGroup.activeTab.open(a)}}),i.show()}else{var a=require("detailWindow"),o=new a(e.row.data);tabGroup.activeTab.open(o)}}),e(),o.add(a),o}module.exports=bbsWindow;