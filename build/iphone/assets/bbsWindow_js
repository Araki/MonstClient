function bbsWindow(){function e(){var e=[],i=0,r=Ti.App.domain+"get_recruit.json";getData(r,function(r){if(r.success){for(var n=r.data,d=0;d<n.length;d++)-1!=n[d].tags.indexOf(o)&&(e[i]=n[d],i+=1);e.length>=10?t(e,0,10):t(e,0,e.length)}a.hide()})}function t(t,r,o){if(a.show(),0==t.length){var d=Ti.UI.createTableViewRow({hasChild:!1,height:450,id:"",touchEnabled:!1,selectionStyle:Titanium.UI.iPhone.TableViewCellSelectionStyle.NONE,backgroundColor:"black"}),l=Ti.UI.createLabel({text:"検索条件に合うクエストがありませんでした。\n\n検索条件に合うクエストが投稿されるまで更新し続けるか、\n\n検索条件を変更してください。",font:{fontWeight:"bold",fontSize:11},color:"white",textAlign:"center",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,right:20,left:20,top:30,height:80});d.add(l);var s=nend.createView({top:130,left:(Ti.Platform.displayCaps.platformWidth-300)/2,spotId:"285501",apiKey:"7eafcb13dd674b523ec63c14db2f14aae7aaa89e"});d.add(s);var u=Ti.UI.createButton({title:"更 新",font:{fontWeight:"bold",fontSize:18},top:400,right:70,left:70,height:40,color:"white",backgroundColor:"#77A82C",borderRadius:5});d.add(u),u.addEventListener("click",function(){a.show(),n=[],e(),c.scrollToTop(0,!0)}),n.push(d)}else for(var h=r;o>h;h++){if(h%10==0){var p=i(1);n.push(p)}if(h%10==5){var p=i(2);n.push(p)}var T,d=Ti.UI.createTableViewRow({backgroundImage:"images/bbs_row_bg.png",hasChild:!1,height:73,id:"row",data:t[h]});T=null==t[h].image?"https://s3-ap-northeast-1.amazonaws.com/monsto/icon/noimage.png":t[h].image;var g=Titanium.UI.createImageView({top:7,left:9,width:55,height:55,image:T});d.add(g);var b=Titanium.UI.createLabel({font:{fontWeight:"bold",fontSize:13},textAlign:"left",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,color:"black",left:70,right:5,top:7,height:15,text:t[h].name});d.add(b);var m=Titanium.UI.createTextArea({editable:!1,touchEnabled:!1,font:{fontSize:11},textAlign:"left",color:"black",left:70,right:5,top:23,bottom:23,value:t[h].desc});d.add(m);var f=Titanium.UI.createLabel({font:{fontSize:10},textAlign:"right",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,color:"black",right:9,bottom:10,width:100,text:t[h].time});d.add(f);var v=Titanium.UI.createLabel({font:{fontWeight:"bold",fontSize:10},textAlign:"left",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,color:"black",left:70,bottom:10,width:100,text:"アクセス数: "+t[h].access});if(d.add(v),"t"==t[h].luck_restriction){var w=Titanium.UI.createLabel({font:{fontWeight:"bold",fontSize:10},textAlign:"center",verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,color:"white",right:9,top:7,height:15,width:50,backgroundColor:"red",borderRadius:2,text:"運極限定"});d.add(w),b.right=59}n.push(d)}var I;if(o==t.length);else{I=o+10<=t.length?o+10:t.length;var k=Ti.UI.createTableViewRow({hasChild:!1,height:25,backgroundColor:"red",id:"addRow",data:t,startNum:o,endNum:I});addRowLabel=Ti.UI.createLabel({text:"次の結果を読み込む",color:"white",font:{fontSize:13}}),k.add(addRowLabel),n.push(k);var A=i(3);n.push(A)}c.data=n,a.hide()}function i(e){var t=createBannerAdView(e),i=Ti.UI.createTableViewRow({hasChild:!1,height:50});if(320!=Ti.Platform.displayCaps.platformWidth){var r=Ti.Platform.displayCaps.platformWidth/320*50;i.height=r,t.top=(r-50)/2}return i.add(t),i}function r(){var t=Titanium.UI.createView({backgroundColor:"black",opacity:.3});d.add(t);var i=Titanium.UI.createView({width:300,height:400,backgroundColor:"white",borderRadius:5});d.add(i);var r=Ti.UI.createButton({title:"全て",top:15,left:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(r),r.addEventListener("click",function(){a.show(),h.text="　全て",o="",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var l=Ti.UI.createButton({title:"降臨",top:15,right:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(l),l.addEventListener("click",function(){a.show(),h.text="　降臨",o="kourin",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var s=Ti.UI.createButton({title:"チケット",top:70,right:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(s),s.addEventListener("click",function(){a.show(),h.text="　チケット",o="ticket",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var u=Ti.UI.createButton({title:"超絶",top:70,left:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(u),u.addEventListener("click",function(){a.show(),h.text="　超絶",o="chouzetsu",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var p=Ti.UI.createButton({title:"獣神玉",top:125,left:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(p),p.addEventListener("click",function(){a.show(),h.text="　獣神玉",o="zyushindama",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var T=Ti.UI.createButton({title:"亀",top:125,right:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(T),T.addEventListener("click",function(){a.show(),h.text="　亀",o="kame",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var g=Ti.UI.createButton({title:"ムラサメ",top:180,left:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(g),g.addEventListener("click",function(){a.show(),h.text="　ムラサメ",o="murasame",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var b=Ti.UI.createButton({title:"ムラマサ",top:180,right:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(b),b.addEventListener("click",function(){a.show(),h.text="　ムラマサ",o="muramasa",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var m=Ti.UI.createButton({title:"パワタスキング",top:235,left:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(m),m.addEventListener("click",function(){a.show(),h.text="　パワタスキング",o="pawatasu",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var f=Ti.UI.createButton({title:"タス",top:235,right:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(f),f.addEventListener("click",function(){a.show(),h.text="　タス",o="tasu",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var v=Ti.UI.createButton({title:"ゴールド",top:290,left:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(v),v.addEventListener("click",function(){a.show(),h.text="　ゴールド",o="gold",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var w=Ti.UI.createButton({title:"英雄の神殿",top:290,right:15,height:40,width:130,color:"white",backgroundColor:"#00A5CD",borderRadius:5});i.add(w),w.addEventListener("click",function(){a.show(),h.text="　英雄の神殿",o="wakuwaku",n=[],e(),c.scrollToTop(0,!0),d.remove(t),d.remove(i)});var I=Ti.UI.createButton({title:"閉じる",top:350,right:15,left:15,height:30,color:"white",backgroundColor:"#707070",borderRadius:5});i.add(I),I.addEventListener("click",function(){d.remove(t),d.remove(i)})}var o="",a=createActInd();a.show();var n=[],d=Titanium.UI.createWindow({statusBarStyle:Titanium.UI.iPhone.StatusBar.LIGHT_CONTENT,barImage:"images/header.png",titleControl:Ti.UI.createImageView({image:"images/bbs_title_label.png",height:23,width:128})});d.hideTabBar();var c=Titanium.UI.createTableView({top:0,bottom:0,separatorStyle:"NONE",backgroundColor:"black"});d.add(c);var l=Titanium.UI.createButton({backgroundImage:"images/bbs_recruit_btn.png",height:32,width:52.1});d.leftNavButton=l,l.addEventListener("click",function(){var e=require("recruitWindow"),t=new e;tabGroup.activeTab.open(t)});var s=Titanium.UI.createButton({backgroundImage:"images/bbs_reload_btn.png",height:32,width:43.9});d.rightNavButton=s,s.addEventListener("click",function(){a.show(),n=[],e(),c.scrollToTop(0,!0)}),c.addEventListener("click",function(e){if("addRow"==e.row.id)n.pop(),n.pop(),t(e.row.data,e.row.startNum,e.row.endNum);else if("row"==e.row.id)if("t"==e.row.data.luck_restriction){var i=Titanium.UI.createAlertDialog({title:"運極限定マルチ",message:"\n運極の方のみ参加可能なマルチです。\n運極でない方のご参加は\n他の方の迷惑となります。\n運極でない方の参加を見つけた場合、その方の本サービスの利用を禁止するなどの対処を致します。",buttonNames:["参加しない","参加する"],cancel:0});i.addEventListener("click",function(t){if(1==t.index){var i=require("detailWindow"),r=new i(e.row.data);tabGroup.activeTab.open(r)}}),i.show()}else{Ti.API.info("name = "+e.row.data.name+"\ndesc = "+e.row.data.desc+"\nimage = "+e.row.data.image);var r=require("detailWindow"),o=new r(e.row.data);tabGroup.activeTab.open(o)}});var u=Ti.UI.createImageView({bottom:15,right:15,width:40,height:40,image:"images/search_button.png"});d.add(u),u.addEventListener("click",function(){r()});var h=Ti.UI.createLabel({text:"　全て",backgroundColor:"black",opacity:.7,borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,font:{fontSize:13},verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,bottom:15,right:65,left:15,height:40,enabled:!1,color:"white",keyboardToolbar:!1,borderRadius:5});return d.add(h),e(),d.add(a),d}module.exports=bbsWindow;